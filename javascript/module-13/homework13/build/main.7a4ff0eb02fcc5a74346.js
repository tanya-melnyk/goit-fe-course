(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("L1EO"),n("JBxO"),n("FdtR");var o="https://cors-anywhere.herokuapp.com/",i="http://api.weatherstack.com",c="/current",r="?access_key=a2f4a19b05175ece9e4162c1948e6ca4";n("D/wG");var a={weatherSection:document.getElementById("weather"),icon:document.querySelector(".icon"),location:document.querySelector('span[data-field="location"]'),temp:document.querySelector('span[data-field="temp"]'),humidity:document.querySelector('span[data-field="humidity"]'),wind:document.querySelector('span[data-field="wind"]'),conditions:document.querySelector('span[data-field="conditions"]')};var d,u=document.getElementById("spinner"),s={show:function(){u.classList.remove("is-hidden")},hide:function(){u.classList.add("is-hidden")}},l=n("dIfx");n("IlkV"),n("Anew");function h(e,t){s.show(),function(e){return fetch(o+i+c+r+"&query="+e).then(function(e){if(e.ok)return e.json();throw new Error("Place is not found")}).catch(function(e){throw e})}(e).then(function(e){!function(e){a.icon.src=e.current.weather_icons[0],a.location.textContent=e.location.name,a.temp.textContent=e.current.temperature,a.humidity.textContent=e.current.humidity,a.wind.textContent=e.current.wind_speed,a.conditions.textContent=e.current.weather_descriptions,a.weatherSection.classList.remove("is-hidden")}(e),s.hide()}).catch(function(e){console.log(e),l.a.error(t),s.hide()})}l.a.defaults.styling="material",l.a.defaults.icons="material",l.a.defaults.delay=3e3,(d={maximumAge:18e5,timeout:5e3},new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,d)})).then(function(e){var t=e.coords.latitude,n=e.coords.longitude;h(t+","+n,"Не удалось определить ваше местонахождения.")}).catch(function(e){return l.a.notice("Нет прав доступа к геопозиции, используйте поиск по имени города.")}),document.getElementById("search-form").addEventListener("submit",function(e){e.preventDefault(),h(e.currentTarget.children.city.value,"Введите правильное имя города.")})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.7a4ff0eb02fcc5a74346.js.map